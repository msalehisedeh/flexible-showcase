!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@sedeh/flexible-showcase",["exports","@angular/core","@angular/common"],t):t(((e=e||self).sedeh=e.sedeh||{},e.sedeh["flexible-showcase"]={}),e.ng.core,e.ng.common)}(this,(function(e,t,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(e,t,i,o){var s,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(n<3?s(r):n>3?s(t,i,r):s(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r}var s=function(){function e(){this.translatedPosition=0,this.shiftedIndex=0,this.selectedIndex=0,this.paginate=!1,this.hasControls=!0,this.hoverPlay=!1,this.zoomOnHover=!1,this.peekOnHover=!1,this.enableEventTracking=!1,this.magnificationFactor=2,this.message="click to select ",this.onEventTracking=new t.EventEmitter}return e.prototype.ngAfterContentInit=function(){this.selectedIndex=0,this.thumbnails[0].selected=!0,this.selectedItem=this.thumbnails[0],this.paginate=60*this.thumbnails.length>this.width},e.prototype.ngOnChanges=function(e){e.position&&this.slider&&(this.translatedPosition=0,this.shiftedIndex=0,this.slider.nativeElement.style.transform="translate(0px,0px)")},e.prototype.hoverOver=function(e){if(this.zoomOnHover&&this.largeImage){var t=e.target.children[0];if(t){var i=t.getBoundingClientRect();this.largeImage.nativeElement.style.width=this.magnificationFactor*i.width+"px",this.largeImage.nativeElement.style.height=this.magnificationFactor*i.height+"px",t.style.visibility="hidden"}this.enableEventTracking&&this.onEventTracking.emit({productId:this.productId,thumbnailId:this.selectedItem.thumbnailId,action:"zoomed",title:this.selectedItem.title,time:new Date})}},e.prototype.hoverOut=function(e){this.largeImage&&(e.target.children[0].style.visibility="visible",this.largeImage.nativeElement.style.opacity=0,this.largeImage.nativeElement.style.top="-10000px",this.largeImage.nativeElement.style.left="-10000px",this.enableEventTracking&&this.onEventTracking.emit({productId:this.productId,thumbnailId:this.selectedItem.thumbnailId,action:e.type,title:this.selectedItem.title,time:new Date}))},e.prototype.hoverViewPort=function(e){if(this.zoomOnHover&&this.largeImage){var t=e.target.children[0].getBoundingClientRect(),i=(this.width-t.width)*(this.magnificationFactor/2),o=(this.height-t.height)*(this.magnificationFactor/2),s=e.layerY*(this.magnificationFactor-1),n=e.layerX*(this.magnificationFactor-1);this.largeImage.nativeElement.style.top=-s+o+"px",this.largeImage.nativeElement.style.left=-n+i+"px",this.largeImage.nativeElement.style.opacity=1,this.enableEventTracking&&this.onEventTracking.emit({productId:this.productId,thumbnailId:this.selectedItem.thumbnailId,action:e.type,title:this.selectedItem.title,time:new Date,item:{Y:n,X:s}})}},e.prototype.shiftDisplay=function(e,t,i){if(this.paginate){var o=e.getBoundingClientRect(),s=e.children[this.shiftedIndex].getBoundingClientRect(),n=e.children.length-1,r=this.translatedPosition;"top"===t||"bottom"===t?(this.translatedPosition+=i?-s.width:s.width,this.translatedPosition=this.translatedPosition>0?0:this.translatedPosition+o.width<0?this.translatedPosition+s.width:this.translatedPosition,this.slider.nativeElement.style.transform="translateX("+this.translatedPosition+"px)"):(this.translatedPosition+=i?-s.height:s.height,this.translatedPosition=this.translatedPosition>0?0:this.translatedPosition+s.height<0?this.translatedPosition+s.height:this.translatedPosition,this.slider.nativeElement.style.transform="translateY("+this.translatedPosition+"px)"),r!==this.translatedPosition&&(i?(this.shiftedIndex++,this.shiftedIndex=this.shiftedIndex<n?this.shiftedIndex:n):(this.shiftedIndex--,this.shiftedIndex=this.shiftedIndex<0?0:this.shiftedIndex)),this.enableEventTracking&&this.onEventTracking.emit({productId:this.productId,action:"thombnail shift",time:new Date})}},e.prototype.updateControls=function(e){this.hasControls&&e.target.setAttribute("controls","true"),this.hoverPlay&&e.target.play()},e.prototype.resetControls=function(e){this.hoverPlay&&this.isPlaying(e.target)&&e.target.pause()},e.prototype.isPlaying=function(e){return!!(e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2)},e.prototype.videoKeyup=function(e){13===e.which&&(this.isPlaying(e.target)?e.target.pause():e.target.play())},e.prototype.keyup=function(e){13===e.which&&e.target.click()},e.prototype.videoEvent=function(e){this.enableEventTracking&&this.onEventTracking.emit({productId:this.productId,thumbnailId:this.selectedItem.thumbnailId,action:e.type,title:this.selectedItem.title,time:new Date,item:{autoplay:e.target.autoplay,controls:e.target.controls,duration:e.target.duration,ended:e.target.ended,error:e.target.error,paused:e.target.paused,muted:e.target.muted,currentTime:e.target.currentTime,volume:e.target.volume}})},e.prototype.hoverTab=function(e,t,i,o){if(this.peekOnHover&&(this.hoverItem=this.thumbnails[e]),!o&&e!==this.shiftedIndex){var s=this.shiftedIndex<e;this.shiftedIndex=e,this.shiftDisplay(t,i,s)}this.enableEventTracking&&this.onEventTracking.emit({productId:this.thumbnails[e].productId,thumbnailId:this.thumbnails[e].thumbnailId,action:o?"hover":"focus",title:this.thumbnails[e].title,time:new Date})},e.prototype.selectTab=function(e){this.thumbnails.map((function(e){e.selected=!1})),this.selectedIndex=e,this.thumbnails[e].selected=!0,this.selectedItem=this.thumbnails[e],this.enableEventTracking&&this.onEventTracking.emit({productId:this.thumbnails[e].productId,thumbnailId:this.thumbnails[e].thumbnailId,action:"select",title:this.thumbnails[e].title,time:new Date})},o([t.ViewChild("largeImage",{static:!1})],e.prototype,"largeImage",void 0),o([t.ViewChild("slider",{static:!1})],e.prototype,"slider",void 0),o([t.Input()],e.prototype,"position",void 0),o([t.Input()],e.prototype,"width",void 0),o([t.Input()],e.prototype,"hasControls",void 0),o([t.Input()],e.prototype,"hoverPlay",void 0),o([t.Input()],e.prototype,"height",void 0),o([t.Input()],e.prototype,"productId",void 0),o([t.Input()],e.prototype,"zoomOnHover",void 0),o([t.Input()],e.prototype,"peekOnHover",void 0),o([t.Input()],e.prototype,"enableEventTracking",void 0),o([t.Input()],e.prototype,"magnificationFactor",void 0),o([t.Input()],e.prototype,"thumbnails",void 0),o([t.Input()],e.prototype,"message",void 0),o([t.Output("onEventTracking")],e.prototype,"onEventTracking",void 0),e=o([t.Component({selector:"showcase",template:'\r\n<div class="showcase {{position}}">\r\n    <div class="showcase-control {{position}}" \r\n        role="list" \r\n        [style.width]="position === \'top\' ? width + \'px\' : null" \r\n        [style.height]="position === \'left\' ? height + \'px\' : null"\r\n        *ngIf="position === \'top\' || position === \'left\'">\r\n        <div class="slide-control" \r\n            tabindex="0"\r\n            [class.left]="position == \'top\'"\r\n            [class.up]="position == \'left\'"\r\n            *ngIf="paginate" \r\n            (keyup)="keyup($event)"\r\n            (click)="shiftDisplay(slider, position, false)">\r\n            <span *ngIf="position === \'top\'" class="fa fa-angle-left" aria-hidden="true"></span>\r\n            <span *ngIf="position === \'left\'" class="fa fa-angle-up" aria-hidden="true"></span>\r\n        </div>\r\n        <div class="sliding-viewport paginate">\r\n            <ul  #slider>\r\n                <li *ngFor="let item of thumbnails; let i = index">\r\n                    <a  role="listitem" \r\n                        tabindex="0"\r\n                        (keyup)="keyup($event)" \r\n                        (click)="selectTab(i)"\r\n                        (focus)="hoverTab(i, slider, position, false)"\r\n                        (mouseenter)="hoverTab(i, slider, position, true)"\r\n                        (mouseleave)="hoverItem = undefined"\r\n                        [title]="item.title" \r\n                        [class.selected]="item.selected">\r\n                        <span class="off-screen" [textContent]="message"></span>\r\n                        <span class="title off-screen" [textContent]="item.title"></span>\r\n                        <img  class="content" [src]="item.src.small" *ngIf="item.type === \'image\'" />\r\n                        <video height="100%" class="content" *ngIf="item.type === \'video\'" disabled="disabled" tabindex="-1">\r\n                            <source [src]="item.src.mp4" type="video/mp4">\r\n                            <source [src]="item.src.webm" type="video/webm">\r\n                            <source [src]="item.src.egg" type="video/ogg">\r\n                        </video>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="slide-control" \r\n            tabindex="0"\r\n            [class.right]="position == \'top\'"\r\n            [class.down]="position == \'left\'"\r\n            *ngIf="paginate" \r\n            (keyup)="keyup($event)"\r\n            (click)="shiftDisplay(slider, position, true)">\r\n            <span *ngIf="position === \'top\'" class="fa fa-angle-right" aria-hidden="true"></span>\r\n            <span *ngIf="position === \'left\'" class="fa fa-angle-down" aria-hidden="true"></span>\r\n        </div>\r\n    </div>\r\n    <div tabindex="0"\r\n        class="showcase-viewport" \r\n        [style.width]="width + \'px\'" \r\n        [style.height]="height + \'px\'"\r\n        (keyup)="videoKeyup($event)"\r\n        (mouseout)="hoverOut($event)"\r\n        (mouseover)="hoverOver($event)"\r\n        (mousemove)="hoverViewPort($event)">\r\n        <img  class="content" \r\n                [src]="hoverItem ? hoverItem.src.medium : selectedItem.src.medium" \r\n                *ngIf="(hoverItem ? hoverItem.type === \'image\' : selectedItem.type === \'image\')" />\r\n        <img  class="hover" #largeImage\r\n                [src]="selectedItem.src.large" \r\n                *ngIf="zoomOnHover && selectedItem.type === \'image\'" />\r\n        <video \r\n            class="content" #video\r\n            [style.width]="width + \'px\'" \r\n            [style.height]="height + \'px\'"\r\n            [attr.poster]="(hoverItem && hoverItem.poster) ? hoverItem.poster : ((selectedItem && selectedItem.poster) ? selectedItem.poster : null)"\r\n            (focus)="updateControls($event)"\r\n            (mouseenter)="updateControls($event)"\r\n            (mouseleave)="resetControls($event)"\r\n            (play)="videoEvent($event)"\r\n            (pause)="videoEvent($event)"\r\n            (ended)="videoEvent($event)"\r\n            (seeked)="videoEvent($event)"\r\n            (error)="videoEvent($event)"\r\n            (fullscreenchange)="videoEvent($event)"\r\n            *ngIf="(hoverItem ? hoverItem.type === \'video\' : selectedItem.type === \'video\')" controls>\r\n            <source [src]="hoverItem ? hoverItem.src.mp4 : selectedItem.src.mp4" type="video/mp4">\r\n            <source [src]="hoverItem ? hoverItem.src.webm : selectedItem.src.webm" type="video/webm">\r\n            <source [src]="hoverItem ? hoverItem.src.egg : selectedItem.src.egg" type="video/ogg">\r\n        </video>\r\n    </div>\r\n    <div class="showcase-control {{position}}" \r\n        role="list" \r\n        [style.width]="position === \'bottom\' ? width + \'px\' : null" \r\n        [style.height]="position === \'right\' ? height + \'px\' : null"\r\n        *ngIf="position === \'bottom\' || position === \'right\'">\r\n        <div class="slide-control" tabindex="0"\r\n            [class.left]="position == \'bottom\'"\r\n            [class.up]="position == \'right\'"\r\n            *ngIf="paginate" \r\n            (keyup)="keyup($event)"\r\n            (click)="shiftDisplay(slider, position, false)">\r\n            <span *ngIf="position === \'bottom\'" class="fa fa-angle-left" aria-hidden="true"></span>\r\n            <span *ngIf="position === \'right\'" class="fa fa-angle-up" aria-hidden="true"></span>\r\n        </div>\r\n        <div class="sliding-viewport paginate">\r\n            <ul #slider>\r\n                <li *ngFor="let item of thumbnails; let i = index">\r\n                    <a  role="listitem" \r\n                        tabindex="0"\r\n                        (keyup)="keyup($event)" \r\n                        (click)="selectTab(i)"\r\n                        (focus)="hoverTab(i, slider, position, false)"\r\n                        (mouseenter)="hoverTab(i, slider, position, true)"\r\n                        [title]="item.title" \r\n                        [class.selected]="item.selected">\r\n                        <span class="off-screen" [textContent]="message"></span>\r\n                        <span class="title off-screen" [textContent]="item.title"></span>\r\n                        <img  class="content" [src]="item.src.small" *ngIf="item.type === \'image\'" />\r\n                        <video *ngIf="item.type === \'video\'" \r\n                            [attr.poster]="item.poster ? item.poster : null"\r\n                            height="100%" \r\n                            class="content" \r\n                            disabled="disabled"\r\n                            tabindex="-1">\r\n                            <source [src]="item.src.mp4" type="video/mp4">\r\n                            <source [src]="item.src.webm" type="video/webm">\r\n                            <source [src]="item.src.egg" type="video/ogg">\r\n                        </video>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="slide-control" tabindex="0"\r\n            [class.right]="position == \'bottom\'"\r\n            [class.down]="position == \'right\'"\r\n            *ngIf="paginate" \r\n            (keyup)="keyup($event)"\r\n            (click)="shiftDisplay(slider, position, true)">\r\n            <span *ngIf="position === \'bottom\'" class="fa fa-angle-right" aria-hidden="true"></span>\r\n            <span *ngIf="position === \'right\'" class="fa fa-angle-down" aria-hidden="true"></span>\r\n        </div>\r\n    </div>\r\n</div>\r\n',styles:[".showcase{display:flex;width:100%}.showcase .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}.showcase .showcase-viewport{box-sizing:border-box;border:1px solid #bcd;min-height:150px;overflow:hidden;position:relative}.showcase .showcase-viewport ::ng-deep img,.showcase .showcase-viewport video{width:100%}.showcase .showcase-viewport img.content{pointer-events:none}.showcase .showcase-viewport .hover{position:absolute;background-color:#fff;top:-10000px;left:-10000px;opacity:0;pointer-events:none}.showcase .showcase-control{border:1px solid #bcd;box-sizing:border-box;display:flex}.showcase .showcase-control.bottom,.showcase .showcase-control.top{flex-direction:row;overflow:hidden}.showcase .showcase-control.bottom .slide-control,.showcase .showcase-control.top .slide-control{width:20px;height:inherit;background-color:#fff;z-index:2}.showcase .showcase-control.bottom .slide-control.left,.showcase .showcase-control.top .slide-control.left{border-right:1px solid #bcd}.showcase .showcase-control.bottom .slide-control.right,.showcase .showcase-control.top .slide-control.right{border-left:1px solid #bcd}.showcase .showcase-control.bottom .slide-control .fa,.showcase .showcase-control.top .slide-control .fa{font-weight:700;margin:99% 30%;font-size:1.6rem;display:table;line-height:1rem}.showcase .showcase-control.bottom .sliding-viewport.paginate,.showcase .showcase-control.top .sliding-viewport.paginate{flex:1;width:100%;overflow:hidden}.showcase .showcase-control.bottom .sliding-viewport.paginate ul,.showcase .showcase-control.top .sliding-viewport.paginate ul{list-style-type:none;padding:0;margin:0;display:flex;flex-direction:row;transition:transform .3s linear}.showcase .showcase-control.left,.showcase .showcase-control.right{flex-direction:column;overflow:hidden}.showcase .showcase-control.left .slide-control,.showcase .showcase-control.right .slide-control{height:20px;width:inherit;background-color:#fff;z-index:2}.showcase .showcase-control.left .slide-control.up,.showcase .showcase-control.right .slide-control.up{border-bottom:1px solid #bcd}.showcase .showcase-control.left .slide-control.down,.showcase .showcase-control.right .slide-control.down{border-top:1px solid #bcd}.showcase .showcase-control.left .slide-control .fa,.showcase .showcase-control.right .slide-control .fa{font-weight:700;margin:0 29%;font-size:1.6rem;display:table;line-height:1rem}.showcase .showcase-control.left .sliding-viewport.paginate,.showcase .showcase-control.right .sliding-viewport.paginate{flex:1;height:100%;overflow:hidden}.showcase .showcase-control.left .sliding-viewport.paginate ul,.showcase .showcase-control.right .sliding-viewport.paginate ul{list-style-type:none;padding:0;margin:0;display:flex;flex-direction:column;transition:transform .3s linear}.showcase .showcase-control .sliding-viewport{display:flex}.showcase .showcase-control .sliding-viewport a{box-sizing:border-box;white-space:nowrap;border:0;cursor:pointer}.showcase .showcase-control .sliding-viewport a ::ng-deep img,.showcase .showcase-control .sliding-viewport a video{width:60px}.showcase.top{flex-direction:column}.showcase.top .showcase-control{flex-wrap:nowrap}.showcase.top .showcase-control .sliding-viewport{flex-direction:row}.showcase.bottom{flex-direction:column}.showcase.bottom .showcase-control{flex-wrap:nowrap}.showcase.bottom .showcase-control .sliding-viewport,.showcase.left{flex-direction:row}.showcase.left .showcase-control{flex-wrap:nowrap;flex:1}.showcase.left .showcase-control .sliding-viewport{flex-direction:column}.showcase.right{flex-direction:row}.showcase.right .showcase-control{flex-wrap:nowrap;flex:1}.showcase.right .showcase-control .sliding-viewport{flex-direction:column}@media screen and (max-width:600px){.showcase{display:table}.showcase-control{display:block}.showcase-control a{width:100%;display:table}.showcase-viewport{margin:5px 0}}"]})],e)}(),n=function(){function e(){}return e=o([t.NgModule({imports:[i.CommonModule],declarations:[s],exports:[s],entryComponents:[],providers:[],schemas:[t.CUSTOM_ELEMENTS_SCHEMA]})],e)}();e.FlexibleShowcaseComponent=s,e.FlexibleShowcaseModule=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sedeh-flexible-showcase.umd.min.js.map